```Proyecto SaaS Centinela Cloud/ops/.env.example#L1-200
# Centinela Cloud (MVP) - Environment template
# Copy to `ops/.env` and adjust values.
#
# Notes:
# - Defaults in `docker-compose.yml` will work for local dev, but you SHOULD change secrets.
# - For local dev, syslog listens on 5514 (non-privileged). In production you may map 514.
# - SMTP defaults to port 25 with no auth; use Mailgun/SendGrid/etc for real delivery.

############################################
# General
############################################
NODE_ENV=development
APP_BASE_URL=http://localhost:3000
DEFAULT_LOCALE=es
RETENTION_DAYS=7

############################################
# Backend ports
############################################
BACKEND_PORT=3000
BACKEND_PORT_INTERNAL=3000

############################################
# Database (Postgres)
############################################
POSTGRES_DB=centinela
POSTGRES_USER=centinela
POSTGRES_PASSWORD=centinela_dev_password
POSTGRES_PORT=5432

# Used by backend container (internal hostname `postgres`)
DATABASE_URL=postgres://centinela:centinela_dev_password@postgres:5432/centinela

############################################
# Redis (optional but recommended)
############################################
REDIS_PORT=6379
REDIS_URL=redis://redis:6379

############################################
# Ingest authentication (collector -> backend)
############################################
# Shared secret used to authenticate collector requests.
# In MVP we use the same value on both sides.
# CHANGE THIS in any environment beyond local dev.
INGEST_SHARED_SECRET=change_me_dev_secret
INGEST_TOKEN=change_me_dev_secret

############################################
# Collector metadata (MVP)
############################################
TENANT_ID=dev-tenant
SITE_ID=dev-site
SOURCE_ID=dev-fortigate
COLLECTOR_NAME=collector-local

############################################
# Syslog listeners (collector)
############################################
# Non-privileged default for local dev
LISTEN_UDP=:5514
LISTEN_TCP=:5514

# Host port mapping for docker (both UDP and TCP)
SYSLOG_PORT_UDP=5514
SYSLOG_PORT_TCP=5514

############################################
# Collector -> Backend
############################################
# For local compose network, backend is reachable as http://backend:3000
BACKEND_INGEST_URL=http://backend:3000/v1/ingest/syslog

############################################
# Email (SMTP)
############################################
# For real usage, set these to your provider (Mailgun/SendGrid/SES SMTP).
EMAIL_FROM=Centinela <alerts@example.com>

SMTP_HOST=smtp
SMTP_PORT=25
SMTP_USER=
SMTP_PASS=
# Set true if using SMTPS (usually port 465). For STARTTLS (587), keep false and handle via app config later.
SMTP_SECURE=false

############################################
# ðŸ¤– AI Configuration (Nodos de IA)
############################################
# AI Log Analyzer + AI Action Advisor settings
# Supported providers: gemini, openai, anthropic

# Enable/disable AI nodes (set to "false" to use rules-only mode)
AI_ANALYZER_ENABLED=true
AI_ADVISOR_ENABLED=true

# Provider selection (gemini recommended for cost-effectiveness)
AI_PROVIDER=gemini

# API Keys (set the one for your chosen provider)
GEMINI_API_KEY=your_gemini_api_key_here
OPENAI_API_KEY=your_openai_api_key_here
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# Model selection
AI_ANALYZER_MODEL=gemini-2.0-flash-exp
AI_ADVISOR_MODEL=gemini-2.0-flash-exp
# Alternatives:
# - gemini-1.5-pro (more capable but slower)
# - gpt-4o-mini (OpenAI, good balance)
# - claude-3-haiku-20240307 (Anthropic, fast)

# Model parameters
AI_TEMPERATURE=0.3
AI_MAX_TOKENS=4096

# Cost control (per tenant, per month)
AI_MONTHLY_TOKEN_BUDGET=1000000
AI_MAX_REQUESTS_PER_MINUTE=10
